{"version":3,"sources":["webpack:///./src/utils/index.js","webpack:///./src/assets/img/noContent.png","webpack:///./src/assets/img/bannerTop.png","webpack:///src/views/space.vue","webpack:///./src/views/space.vue?57b5","webpack:///./src/views/space.vue"],"names":["formatTime","ts","h","Math","floor","m","s","time","formatDate","date","Date","getFullYear","getMonth","getDate","module","exports","__webpack_require__","p","space","components","Header","header","data","computed","extends_default","Object","vuex_esm","created","this","SET_PLAY_HISTORY","JSON","parse","localStorage","getItem","activated","arr1","arr2","arr3","today","utils","getTime","setDate","yesterday","play_history","forEach","item","push","title","aid","pic","toTimeString","slice","order","list","methods","play","$router","name","params","clearHistory","removeItem","views_space","render","_vm","_h","$createElement","_c","_self","attrs","id","_v","staticClass","src","alt","on","click","length","_l","value","index","key","_s","_e","$event","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.a8120cb7a9e898bfc3a3.js","sourcesContent":["export const formatTime = function (ts) {\n  let h = Math.floor(ts / 3600)\n  let m = Math.floor(ts / 60) % 60\n  let s = ts % 60\n  let time = h < 10 ? ('0' + h + ':') : (h + ':')\n  time += m < 10 ? ('0' + m + ':') : (m + ':')\n  time += s < 10 ? ('0' + s) : s\n  return time\n}\n\nexport const formatDate = function (ts) {\n  let date = new Date(ts * 1000)\n  let Y = date.getFullYear() + '-'\n  let M = date.getMonth() + 1 + '-'\n  let D = date.getDate()\n  return Y + M + D\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","module.exports = __webpack_public_path__ + \"static/img/noContent.b34282a.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/noContent.png\n// module id = CKJ5\n// module chunks = 3","module.exports = __webpack_public_path__ + \"static/img/bannerTop.d651f31.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/bannerTop.png\n// module id = DObK\n// module chunks = 3","<template>\n  <div id=\"space\">\n    <Header />\n    <div class=\"bg-cover\">\n      <img src=\"@/assets/img/bannerTop.png\" alt=\"\">\n      <p>\n        <span>历史记录</span>\n        <span class=\"clearHistory\" @click=\"clearHistory\">全部清空</span>\n      </p>\n    </div>\n    <div class=\"noContent\" v-if=\"play_history.length==0\" v-cloak>\n      <img src=\"@/assets/img/noContent.png\" alt=\"\">\n      <p>暂无历史记录</p>\n    </div>\n    <div class=\"list\" v-else>\n      <div v-for=\"(value,index) in data\" :key=\"index\">\n        <p v-if=\"value.list.length>0\">{{ value.order }}</p>\n        <div class=\"list-item\" v-for=\"(item,index) in value.list\" :key=\"index\" @click=\"play(item.aid)\">\n          <div class=\"cover\">\n            <img :src=\"item.pic\" alt=\"\">\n          </div>\n          <div class=\"wrapper\">\n            <div class=\"title\">{{ item.title }}</div>\n            <span class=\"date\">{{ item.date }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\nimport Header from '@/components/header'\nimport { formatDate } from '@/utils'\nexport default {\n  components: {\n    Header\n  },\n  data () {\n    return {\n      data: []\n    }\n  },\n  computed: {\n    ...mapState(['play_history'])\n  },\n  created () {\n    this.SET_PLAY_HISTORY(JSON.parse(localStorage.getItem('play_history')) || [])\n  },\n  activated () {\n    let arr1 = []\n    let arr2 = []\n    let arr3 = []\n    let date = new Date()\n    let today = formatDate(date.getTime() / 1000)\n    date.setDate(date.getDate() - 1)\n    let yesterday = formatDate(date.getTime() / 1000)\n    this.play_history.forEach(item => {\n      if (formatDate(item.time / 1000) === today) {\n        arr1.push({\n          title: item.title,\n          aid: item.aid,\n          pic: item.pic + '@200w_125h.webp',\n          date: '今天' + ' ' + new Date(item.time).toTimeString().slice(0, 5)\n        })\n      } else if (formatDate(item.time / 1000) === yesterday) {\n        arr2.push({\n          title: item.title,\n          aid: item.aid,\n          pic: item.pic + '@200w_125h.webp',\n          date: '昨天' + ' ' + new Date(item.time).toTimeString().slice(0, 5)\n        })\n      } else {\n        arr3.push({\n          title: item.title,\n          aid: item.aid,\n          pic: item.pic + '@200w_125h.webp',\n          date: formatDate(item.time / 1000) + ' ' + new Date(item.time).toTimeString().slice(0, 5)\n        })\n      }\n    })\n    this.data = [\n      { order: '今天', list: arr1 },\n      { order: '昨天', list: arr2 },\n      { order: '更早', list: arr3 }\n    ]\n  },\n  methods: {\n    ...mapMutations(['SET_PLAY_HISTORY']),\n    play (aid) {\n      this.$router.push({ name: 'video', params: { aid } })\n    },\n    clearHistory () {\n      localStorage.removeItem('play_history')\n      this.SET_PLAY_HISTORY([])\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  #space{\n    .bg-cover{\n      width: 100%;\n      margin-top: .8rem;\n      img{\n        width: 100%;\n      }\n      p{\n        color: #fb7299;\n        padding: .2rem .3rem;\n        border-bottom: .02rem solid #eee;\n        .clearHistory{\n          float: right;\n        }\n      }\n    }\n    .noContent{\n      img{\n        width: 80%;\n        display: block;\n        margin: .5rem auto;\n      }\n      p{\n        text-align: center;\n        font-size: 1.2em;\n        color: #999;\n      }\n    }\n    .list{\n      width: 100%;\n      p{\n        color: #aaa;\n        margin: .3rem;\n      }\n      .list-item{\n        padding: 0 .3rem;\n        margin-bottom: .3rem;\n        display: flex;\n        .cover{\n          width: 2.4rem;\n          height: 1.5rem;\n          overflow: hidden;\n          position: relative;\n          border-radius: .1rem;\n          img{\n            width: 100%;\n          }\n        }\n        .wrapper{\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          padding-left: .2rem;\n          color: #333;\n          position: relative;\n          .title{\n            overflow : hidden;\n            text-overflow: ellipsis;\n            display: -webkit-box;\n            -webkit-line-clamp: 2;\n            -webkit-box-orient: vertical;\n          }\n          .date{\n            color: #999;\n            font-size: .8em;\n            position: absolute;\n            bottom: 0;\n            left: .2rem;\n          }\n        }\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/space.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"space\"}},[_c('Header'),_vm._v(\" \"),_c('div',{staticClass:\"bg-cover\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/bannerTop.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(\"历史记录\")]),_vm._v(\" \"),_c('span',{staticClass:\"clearHistory\",on:{\"click\":_vm.clearHistory}},[_vm._v(\"全部清空\")])])]),_vm._v(\" \"),(_vm.play_history.length==0)?_c('div',{staticClass:\"noContent\"},[_c('img',{attrs:{\"src\":require(\"@/assets/img/noContent.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"暂无历史记录\")])]):_c('div',{staticClass:\"list\"},_vm._l((_vm.data),function(value,index){return _c('div',{key:index},[(value.list.length>0)?_c('p',[_vm._v(_vm._s(value.order))]):_vm._e(),_vm._v(\" \"),_vm._l((value.list),function(item,index){return _c('div',{key:index,staticClass:\"list-item\",on:{\"click\":function($event){_vm.play(item.aid)}}},[_c('div',{staticClass:\"cover\"},[_c('img',{attrs:{\"src\":item.pic,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('span',{staticClass:\"date\"},[_vm._v(_vm._s(item.date))])])])})],2)}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-49102380\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/space.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-49102380\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./space.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./space.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./space.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49102380\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./space.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-49102380\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/space.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}